---

title: API tutorial


keywords: fastai
sidebar: home_sidebar

summary: "Turorial on how to interact with the dcl_stats_n_plots API"
description: "Turorial on how to interact with the dcl_stats_n_plots API"
nb_path: "03_api_tutorial.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 03_api_tutorial.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Getting-started">Getting started<a class="anchor-link" href="#Getting-started"> </a></h2><p>dcl_stats_n_plots is available from PyPi, so just run:</p>
<blockquote><p><code>pip install dcl-stats-n-plots</code></p>
</blockquote>
<p>for installation. If you want a more detailed guide, please have a look at our <a href="https://dsegebarth.github.io/dcl_stats_n_plots/gui_tutorial.html#Getting-started">installation guide</a>. For this tutorial, we will use some demo files with dummy data, which are available <a href="https://github.com/DSegebarth/dcl_stats_n_plots/tree/master/test_data">here</a>.
In the following, you will find some examples for each type of implemented statistical analysis, including the corresponding plotting and annotation functions. Currently, the implemented analyses are:</p>
<ol>
<li>Comparison of two or more independent samples</li>
<li>Comparison of one group to a reference value</li>
<li>Mixed-Model ANOVA (comparison of two or more groups with repeated measures)
{% include note.html content='This package relies heavily on the correct design of the input data. Therefore, please take some time before using one of the implemented functionalities and make sure you got the input data organized in the right way. In general, this packages requires the input data to be organized in the so-called "long format" with a fixed column order. Please check out the "Expected input data format" section for the respective test for detailed information.' %}</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Comparison-of-two-of-more-independent-samples">Comparison of two of more independent samples<a class="anchor-link" href="#Comparison-of-two-of-more-independent-samples"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Expected-input-data-format">Expected input data format<a class="anchor-link" href="#Expected-input-data-format"> </a></h3><p>For this analysis, you only have to provide two columns. The first one that contains the actual data values, and the second column that specifies to which group the respective data value belongs. In Microsoft Excel, this might look like the following:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://raw.githubusercontent.com/DSegebarth/dcl_stats_n_plots/master/media/api_tutorial_01.png" alt="api_tutorial_01"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Where the first two data values belong to the group called "group_a", the third and fourth to a second group called "group_b", and the sixth and seventh value belong to a third group called "group_c". You probably got the idea ;-)</p>
<p>You are entirely free to choose any column names (for instance "distance [cm]" instead of "data", or "genotype" instead of "group_id") and also to provide your favorite group names (e.g. "wildtype" instead of "group_a" and "knockout" for "group_b"). 
{% include note.html content='The column name of your data column will be used as the default y-axis label, but you will still be able to modify that on demand.' %}{% include note.html content='The order of appearance of the groups in the group column (top to bottom) will be used as the default x-axis order, but you will still be able to modify that on demand.' %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Compute-the-stats">Compute the stats<a class="anchor-link" href="#Compute-the-stats"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now that we know how the input data has to be organized, letÂ´s start with the statistical analysis of our dataset, using one of our dummy data test files, which are available <a href="https://github.com/DSegebarth/dcl_stats_n_plots/tree/master/test_data">here</a>. This dataset contains a total of 60 data values from five different groups (group_a - group_e, 12 values per group). For reasons of clarity, only the first 5 rows will be displayed.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">file_url</span> <span class="o">=</span> <span class="s1">&#39;https://github.com/DSegebarth/dcl_stats_n_plots/raw/a4037a716556cf1080a1cb83e40130727a3e103b/test_data/independent_samples.xlsx&#39;</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">file_url</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To perform the statistical analysis, all we now have to do is pass this data as Pandas DataFrame to the <a href="/dcl_stats_n_plots/stats.html#independent_samples"><code>independent_samples</code></a> function of the stats module.
This will return a dictionary containing the results of the statistical analysis, but also some automatically extracted parameters that will be of use for both plotting and annotation of the data later on. For the exact details of which statistical tests are performed, please head over to the documentation of the <a href="/dcl_stats_n_plots/stats.html#independent_samples"><code>independent_samples</code></a> function. In brief:</p>
<ol>
<li>The prerequisites for parametric testing (normal distribution and equality of variances) are assessed</li>
<li>Parametric or non-parametric tests are used accordingly</li>
<li>If the dataset contains more than two groups, pairwise comparisons of all possible combinations are performed and the results are corrected for multiple comparisons</li>
</ol>
<p>The results of the pairwise comparisons can be accessed as follows:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">dcl_stats_n_plots</span> <span class="kn">import</span> <span class="n">stats</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">independent_samples</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">results</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">][</span><span class="s1">&#39;pairwise_comparisons&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If there were more than two groups present, the results of the group level statistical test can be accessed as:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">][</span><span class="s1">&#39;group_level_statistic&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include note.html content='Again, for more detailed information about the statistical tests, as well as the generated output, please have a look at the documentation of the <a href="/dcl_stats_n_plots/stats.html#independent_samples"><code>independent_samples</code></a> function. Here you will also find links to the corresponding functions of the python package "pingouin", which is used for statistical testing.' %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Plot-the-data-and-annotate-the-stats:">Plot the data and annotate the stats:<a class="anchor-link" href="#Plot-the-data-and-annotate-the-stats:"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With the <code>results</code> dictionary and our dataset as Pandas DataFrame, we have everything we need to plot the data and annotate the stats in one go.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">dcl_stats_n_plots</span> <span class="kn">import</span> <span class="n">plots</span>

<span class="n">plots</span><span class="o">.</span><span class="n">plot_independent_samples</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">plot_type</span> <span class="o">=</span> <span class="s1">&#39;stripplot&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include warning.html content='To be continued...' %}</p>

</div>
</div>
</div>
</div>
 

